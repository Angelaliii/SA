# language: zh-TW

@US-CMPM-USER-002 @user-management @P0
功能: 帳號登入
  身為已註冊的平台使用者
  我想要能夠使用我的帳號密碼登入系統
  以便存取我的個人資料並使用平台的功能

  背景:
    假設我已註冊平台帳號
    而且我正在瀏覽社團企業媒合平台的首頁
    而且我點擊了"登入"按鈕

  @basic-login
  場景大綱: 基本登入功能
    當我在登入頁面輸入電子郵件"<電子郵件>"
    而且我輸入密碼"<密碼>"
    而且我點擊"登入"按鈕
    那麼系統應該<結果>

    例子:
      | 電子郵件                  | 密碼           | 結果                                             |
      | correct@example.com       | correctPassword | 成功登入系統並導向對應角色的主頁                 |
      | correct@example.com       | wrongPassword   | 顯示錯誤訊息"帳號或密碼錯誤，請重新輸入"         |
      | nonexistent@example.com   | anyPassword     | 顯示錯誤訊息"帳號或密碼錯誤，請重新輸入"         |
      |                           | correctPassword | 顯示錯誤訊息"請輸入帳號"                         |
      | correct@example.com       |                 | 顯示錯誤訊息"請輸入密碼"                         |

  @remember-me
  場景: 記住我功能
    當我在登入頁面輸入正確的帳號密碼
    而且我勾選"記住我"選項
    而且我點擊"登入"按鈕
    那麼系統應該成功登入並導向首頁
    當我關閉瀏覽器後再次打開平台網站
    那麼系統應該保持我的登入狀態
    而且我應該能直接訪問我的帳號

  @forgot-password
  場景大綱: 忘記密碼功能
    當我在登入頁面點擊"忘記密碼"連結
    那麼系統應該導向忘記密碼頁面
    當我輸入我的註冊電子郵件"<電子郵件>"
    而且我點擊"發送重設密碼連結"按鈕
    那麼系統應該<結果>

    例子:
      | 電子郵件                | 結果                                                     |
      | registered@example.com  | 顯示"重設密碼連結已發送至您的電子郵件"訊息              |
      | unregistered@example.com| 顯示"此電子郵件未註冊，請確認後重試"訊息                |
      | invalid                 | 顯示"請輸入有效的電子郵件地址"訊息                      |
      |                         | 顯示"請輸入電子郵件地址"訊息                            |

  @password-reset
  場景: 重設密碼流程
    假設我已請求重設密碼
    而且我已收到含有重設密碼連結的電子郵件
    當我點擊電子郵件中的重設密碼連結
    那麼系統應該導向重設密碼頁面
    當我輸入新密碼"NewPassword123"
    而且我輸入確認密碼"NewPassword123"
    而且我點擊"確認更改密碼"按鈕
    那麼系統應該顯示"密碼已成功重設，請使用新密碼登入"訊息
    當我使用新密碼登入
    那麼系統應該成功登入並導向我的帳號頁面

  @account-security
  場景: 帳號安全保護 - 連續錯誤嘗試
    當我連續5次輸入錯誤的密碼
    那麼系統應該顯示"因為多次輸入錯誤密碼，您的帳號已被暫時鎖定30分鐘"訊息
    而且系統應該提供倒數計時器顯示何時可再次嘗試登入
    當30分鐘後我再次嘗試登入
    那麼系統應該允許我嘗試登入

  @multiple-roles
  場景: 多角色切換功能
    假設我的帳號同時具有"校友"和"企業"兩種角色身分
    當我使用正確的帳號密碼登入
    那麼系統應該顯示角色選擇頁面
    而且我應該看到"請選擇您要使用的身分"訊息
    當我選擇"校友"角色
    那麼系統應該導向校友角色的主頁
    當我從頁面頂部的下拉選單選擇"切換至企業角色"
    那麼系統應該顯示"已切換至企業角色"訊息
    而且系統應該導向企業角色的主頁
